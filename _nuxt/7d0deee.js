(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{420:function(t,e,n){"use strict";n.r(e);var r=n(22),o=(n(97),n(9),n(81),n(25),n(176),n(56),d);function c(){var t=["token_addr","jetton","floor","walletExt","token_addr_v2","11ELpEIU","token_addr_v1","https://testnet.toncenter.com/api/v2/jsonRPC","seqno","location","token","You are interacting with the mainnet v2 of the token!","boc","padStart","https://toncenter.com/api/v2/jsonRPC","1371505PkjSMl","master","Swap request sent!","send","bits","?testnet_v1","6mxRqlh","address","call","utils","wrap-amount","EQAK5EkHMiBDFnE_aURwVGCzJV8UO4HgN0P_t-GesaAa1jdB","replace","0000000000000000000000000000000000000000","methods","mainnet","JettonWallet","jetton_wallet_addr","unwrap-amount","xton","value","6345800DHxixZ","get_wallet_address","search","Address","7466283meMfgF","onTonReady","tonready","log","Cell","You are interacting with the mainnet v1 of the token!","678616uuNtOU","kQC4TdkCVwAf_xLoEKefWDsHHLRC-Mq-S1r76r24L_n8e1O2","toString","writeCoins","7bwNKvE","10MJaWmP","?testnet","IndexPage","getBalance","5807148dLJWOp","balance","tokenInstance","get","232707zpstcJ","?v1","toNano","ton","EQDQoc5M3Bh8eWFephi9bClhevelbZZvWhkqdo80XuY_0qXv","writeUint","12f007ab5a0399662c16faca21b886027f48b8e3f05b1709e9e88d8dff173f25","provider","b16150f73cf14161ba4f83541d4d16d7d8231cb822bd20ad6e15425658125c67","1617983gbpvoF","HttpProvider","fromNano","getElementById","account","writeAddress","0.05","call2","0:0"];return(c=function(){return t})()}function d(t,e){var n=c();return(d=function(t,e){return n[t-=403]})(t,e)}!function(t,e){for(var n=d,r=t();;)try{if(883390===parseInt(n(426))/1+-parseInt(n(409))/2*(parseInt(n(417))/3)+-parseInt(n(413))/4+-parseInt(n(450))/5*(parseInt(n(456))/6)+parseInt(n(408))/7*(-parseInt(n(404))/8)+parseInt(n(475))/9+parseInt(n(471))/10*(parseInt(n(440))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(c);var l=function(t,e,n){for(var r=d,o=BigInt(0),c=0;c<n;c++)o*=BigInt(2),o+=BigInt(t[r(416)](e+c));return o},v=function(t){var e=d,n=l(t[e(454)],3,8);n>BigInt(127)&&(n-=BigInt(256));var r=l(t.bits,11,256);if(n[e(406)](10)+":"+r[e(406)](16)===e(434))return null;var o=n.toString(10)+":"+r[e(406)](16)[e(448)](64,"0");return new(TonWeb[e(459)][e(474)])(o)},w={testnet:{url:o(442),token:o(423),token_addr:o(421),token_addr_v2:"EQAK5EkHMiBDFnE_aURwVGCzJV8UO4HgN0P_t-GesaAa1jdB",token_addr_v1:o(405)},mainnet:{url:o(449),token:o(425),token_addr:o(421),token_addr_v2:o(461),token_addr_v1:"kQC4TdkCVwAf_xLoEKefWDsHHLRC-Mq-S1r76r24L_n8e1O2"}},f={name:o(411),methods:{onTonReady:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,d,l,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o,e.next=3,window[n(420)].send("ton_requestAccounts");case 3:return r=e.sent,t[n(430)][n(457)]=r[0],c={},window[n(444)][n(473)]==n(455)?(alert("You are interacting with the testnet v1 of the token!"),c=w.testnet,t[n(430)].master=c.token_addr_v1):window[n(444)].search==n(418)?(alert(n(403)),c=w[n(465)],t.account[n(451)]=c[n(441)]):"?v2"==window[n(444)][n(473)]?(alert(n(446)),c=w.mainnet,t.account.master=c[n(439)]):window[n(444)][n(473)]==n(410)?(c=w.testnet,t[n(430)][n(451)]=c[n(435)]):(c=w.mainnet,t[n(430)][n(451)]=c.token_addr),t.provider=new TonWeb(new(TonWeb[n(427)])(c.url,{apiKey:c[n(445)]})),t[n(430)].walletExt=new WalletExt(t.provider[n(424)],{address:t[n(430)].address,wc:0}),(d=new(TonWeb[n(447)][n(479)]))[n(454)][n(431)](new(TonWeb.utils[n(474)])(t[n(430)][n(457)])),e.t0=t.provider[n(424)],e.t1=n(433),e.t2=t[n(430)].master,e.t3=n(472),e.t4=TonWeb[n(459)],e.next=17,d.toBoc(!1);case 17:return e.t5=e.sent,e.t6=e.t4.bytesToBase64.call(e.t4,e.t5),e.t7=["tvm.Slice",e.t6],e.t8=[e.t7],e.next=23,e.t0[e.t1].call(e.t0,e.t2,e.t3,e.t8);case 23:return l=e.sent,f=v(l),t.account.jetton_wallet_addr=f[n(406)](),t[n(415)]=new(TonWeb[n(445)][n(436)][n(466)])(t[n(424)][n(424)],{address:f[n(406)]()}),e.prev=26,e.next=29,t[n(415)].getData();case 29:m=e.sent,t[n(430)].xton=TonWeb[n(459)][n(428)](m[n(414)][n(406)]()),e.next=36;break;case 33:e.prev=33,e.t9=e.catch(26),t[n(430)][n(469)]=TonWeb[n(459)].fromNano(0);case 36:return e.t10=TonWeb[n(459)],e.next=39,t[n(424)][n(412)](t[n(430)].address);case 39:e.t11=e.sent,t.account[n(420)]=e.t10.fromNano.call(e.t10,e.t11);case 41:case"end":return e.stop()}}),e,null,[[26,33]])})))()},wrapTon:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o,"0"==(r=document[n(429)](n(460))[n(470)])){e.next=15;break}return e.next=5,t.account.walletExt[n(464)][n(443)]()[n(458)]();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=0;case 8:return c=e.t0,e.t1=console,e.next=12,t[n(430)][n(438)][n(464)].transfer({signer:window[n(420)],toAddress:t[n(430)].master,amount:TonWeb[n(459)][n(419)](r[n(462)](",",".")),seqno:c,sendMode:3}).send();case 12:e.t2=e.sent,e.t1.log.call(e.t1,e.t2),alert("Swap request sent!");case 15:document[n(429)](n(460))[n(470)]=0;case 16:case"end":return e.stop()}}),e)})))()},unwrapTon:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o,"0"==(c=document[n(429)]("unwrap-amount").value)){e.next=26;break}return e.next=5,t[n(430)][n(438)][n(464)][n(443)]()[n(458)]();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=0;case 8:return l=e.t0,e.t1=console,e.t2=n(478),e.t3=t.account[n(438)].methods,e.t4=window[n(420)],e.t5=t[n(430)][n(467)],e.t6=TonWeb[n(459)][n(419)](n(432)),e.t7=l,e.next=18,Object(r.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,o=new(TonWeb[r(447)].Cell),e.abrupt("return",(o[r(454)][r(422)](1499400124,32),o[r(454)][r(422)]((l=0,v=4294967296,w=void 0,w=d,l=Math.ceil(l),v=Math[w(437)](v),Math.floor(Math.random()*(v-l+1)+l)),64),o[r(454)][r(407)](TonWeb[r(459)][r(419)](c.replace(",","."))),o[r(454)].writeAddress(new(TonWeb[r(459)][r(474)])(t.account.address)),o));case 2:case"end":return e.stop()}var l,v,w}),e)})))();case 18:return e.t8=e.sent,e.t9={signer:e.t4,toAddress:e.t5,amount:e.t6,seqno:e.t7,payload:e.t8,sendMode:3},e.t10=n(453),e.next=23,e.t3.transfer.call(e.t3,e.t9)[e.t10]();case 23:e.t11=e.sent,e.t1[e.t2].call(e.t1,e.t11),alert(n(452));case 26:document[n(429)](n(468))[n(470)]=0;case 27:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o,window.ton?t.onTonReady():window.addEventListener(n(477),(function(){return t[n(476)]()}),!1);case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{provider:null,tokenInstance:null,dialogWrap:!1,dialogUnwrap:!1,account:{walletExt:null,jetton_wallet_addr:"",master:"",address:o(463),xton:0,ton:0}}}},m=n(94),_=n(137),x=n.n(_),h=n(421),k=n(361),T=n(351),W=n(344),C=n(418),I=n(422),O=n(358),R=n(352),V=n(416),E=n(417),N=n(419),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-dialog",{attrs:{"max-width":"350"},model:{value:t.dialogWrap,callback:function(e){t.dialogWrap=e},expression:"dialogWrap"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("Buy WTON for TON")]),t._v(" "),n("v-card-text",[n("div",[n("div",{staticClass:"text-overline mb-4"},[t._v("\n            Note: this action have a fee of 0.028 TON (to cover storage and\n            inizializaion fees).\n          ")]),t._v(" "),n("v-text-field",{attrs:{label:"Amount in Toncoin",outlined:"",prefix:"TON",type:"number",id:"wrap-amount",step:".01",value:"0"}})],1)]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(e){t.dialogWrap=!1}}},[t._v("Close")]),t._v(" "),n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:t.wrapTon}},[t._v("send")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"350"},model:{value:t.dialogUnwrap,callback:function(e){t.dialogUnwrap=e},expression:"dialogUnwrap"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[t._v("Sell WTON for TON")]),t._v(" "),n("v-card-text",[n("div",[n("v-text-field",{attrs:{label:"Amount in WTON",outlined:"",prefix:"WTON",type:"number",id:"unwrap-amount",step:".01",value:"0"}})],1)]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(e){t.dialogUnwrap=!1}}},[t._v("Close")]),t._v(" "),n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:t.unwrapTon}},[t._v("send")])],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[n("v-card",{staticClass:"text-center",attrs:{elevation:"12"}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"text-overline mb-4"},[t._v("\n            Your address: "+t._s(this.account.address)+"\n            "),n("v-img",{attrs:{src:"swap.svg"}})],1),t._v(" "),n("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(t._s(this.account.xton)+" WTON")]),t._v(" "),n("v-list-item-subtitle",[t._v("(+"+t._s(this.account.ton)+" TON)")])],1)],1),t._v(" "),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(e){t.dialogWrap=!0}}},[t._v("Buy")]),t._v(" "),n("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(e){t.dialogUnwrap=!0}}},[t._v("Sell")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VBtn:h.a,VCard:k.a,VCardActions:T.a,VCardText:T.b,VCardTitle:T.c,VCol:W.a,VDialog:C.a,VImg:I.a,VListItem:O.a,VListItemContent:R.a,VListItemSubtitle:R.b,VListItemTitle:R.c,VRow:V.a,VSpacer:E.a,VTextField:N.a})}}]);